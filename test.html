<HTML>

<HEAD>

</HEAD>

<script language=javascript>
    function getFileSize(filePath) {

        var len = 0;



        if (navigator.appName.indexOf("Netscape") != -1) {

            try {

                netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');

            } catch (e) {

                alert("signed.applets.codebase_principal_support를 설정해주세요!n" + e);

                return -1;

            }

            try {

                var file = Components.classes["@mozilla.org/file/local;1"]

                    .createInstance(Components.interfaces.nsILocalFile);

                file.initWithPath(filePath);



                len = file.fileSize;

            } catch (e) {

                alert("에러 발생:" + e);

            }

        } else if (navigator.appName.indexOf('Microsoft') != -1) {

            var img = new Image();

            img.dynsrc = filePath;

            len = img.fileSize;

        }

        return len;

    }

    function chkSize() {

        var len = parseInt(getFileSize(document.test.file.value) / 1024);

        alert("입력한 파일 용량은 " + len + "KB 입니다.");

        if (len > 1024 * 1024) {

            alert("파일 크기는 1메가보다 작아야 합니다.");

        }

    }
</script>

<BODY>

    <form name="test">

        <input type="file" name="file" omChange="chkSize()">

    </form>

</BODY>

</HTML>